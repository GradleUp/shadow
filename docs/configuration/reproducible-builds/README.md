# Reproducible Builds

By default, JAR files generated by Gradle (with or without Shadow) for a single project with the same source code may
not be identical to each other. Sometimes it's desirable to configure a project to consistently output a byte-for-byte
identical JAR on every build. Gradle supports this with the following configuration, and Shadow will correctly respect
these settings too:

=== "Kotlin"

    ```kotlin
    tasks.withType<AbstractArchiveTask>().configureEach {
      isPreserveFileTimestamps = false
      isReproducibleFileOrder = true
    }
    ```

=== "Groovy"

    ```groovy
    tasks.withType(AbstractArchiveTask).configureEach {
      preserveFileTimestamps = false
      reproducibleFileOrder = true
    }
    ```

One effect that this configuration will have is that the timestamps of all files in the JAR will be reset to a single
consistent value. If your code or any files being included into the JAR depend on the timestamps being set accurately
within the JAR, then this may not be the correct choice for you.

See
the [Reproducible archives section in Gradle's documentation](https://docs.gradle.org/4.9/userguide/working_with_files.html#sec:reproducible_archives)
for more information.
